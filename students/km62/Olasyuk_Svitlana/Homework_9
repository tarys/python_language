#task1--------------------------------------------------------------------------------------------------------------------------------------

“””
Дан список чисел. Определите, сколько в нем встречается различных чисел.
Примечание. Эту задачу на Питоне можно решить в одну строчку.

“””

print(len(set(input().split())))

#---------------------------------------------------------------------------------------------------------------------------------------------


#task2--------------------------------------------------------------------------------------------------------------------------------------

“””
Даны два списка чисел. Посчитайте, сколько чисел содержится одновременно как в первом списке, так и во втором.
Примечание. Эту задачу на Питоне можно решить в одну строчку.

“””

print(len(set(input().split()).intersection(set(input().split()))))

#---------------------------------------------------------------------------------------------------------------------------------------------

#task3--------------------------------------------------------------------------------------------------------------------------------------

“””
Даны два списка чисел. Найдите все числа, которые входят как в первый, так и во второй список и выведите их в порядке возрастания.
Примечание. И даже эту задачу на Питоне можно решить в одну строчку.

“””

print(' '.join(sorted(set(input().split()) & set(input().split()))))

#---------------------------------------------------------------------------------------------------------------------------------------------

#task4--------------------------------------------------------------------------------------------------------------------------------------

“””
Во входной строке записана последовательность чисел через пробел. Для каждого числа выведите слово YES (в отдельной строке), если это число ранее встречалось в последовательности или NO, если не встречалось.

“””

list = input().split()
set1 = set()
set2 = set()

for elem in list:
    set1.add(elem)
    if (set1 <= set2) == False:
        print('NO')
        set1.discard(elem)
        set2.add(elem)
    else:
        print('YES')

#---------------------------------------------------------------------------------------------------------------------------------------------

#task5--------------------------------------------------------------------------------------------------------------------------------------

“””
Аня и Боря любят играть в разноцветные кубики, причем у каждого из них свой набор и в каждом наборе все кубики различны по цвету. Однажды дети заинтересовались, сколько существуют цветов таких, что кубики каждого цвета присутствуют в обоих наборах. Для этого они занумеровали все цвета случайными числами от 0 до 108. На этом их энтузиазм иссяк, поэтому вам предлагается помочь им в оставшейся части.

В первой строке входных данных записаны числа N и M — число кубиков у Ани и Бори. В следующих N строках заданы номера цветов кубиков Ани. В последних M строках номера цветов Бори.
Найдите три множества: номера цветов кубиков, которые есть в обоих наборах; номера цветов кубиков, которые есть только у Ани и номера цветов кубиков, которые есть только у Бори. Для каждого из множеств выведите сначала количество элементов в нем, а затем сами элементы, отсортированные по возрастанию.

“””

#default
set_N = set()
set_M = set()

#input
N_M = input().split()
N = int(N_M[0])
M = int(N_M[1])

for n in range(N):
    set_N.add(input())
for m in range(M):
    set_M.add(input())
    
#common elements 
print(len(set_N & set_M)) 
print(*sorted(set_N & set_M))

#Ania's colours
print(len(set_N - set_M))
print(*sorted(set_N - set_M))

#Boria's colours
print(len(set_M - set_N))
print(*sorted(set_M - set_N))

#---------------------------------------------------------------------------------------------------------------------------------------------

#task6--------------------------------------------------------------------------------------------------------------------------------------

“””
Дан текст: в первой строке записано число строк, далее идут сами строки. Определите, сколько различных слов содержится в этом тексте.

Словом считается последовательность непробельных символов идущих подряд, слова разделены одним или большим числом пробелов или символами конца строки.

“””

#default
word = set()

#input
n = int(input())

#main
for i in range(n):
    word.update(input().split())

#output
print(len(word))

#---------------------------------------------------------------------------------------------------------------------------------------------

#task7--------------------------------------------------------------------------------------------------------------------------------------

“””
Август и Беатриса играют в игру. Август загадал натуральное число от 1 до n. Беатриса пытается угадать это число, для этого она называет некоторые множества натуральных чисел. Август отвечает Беатрисе YES, если среди названных ей чисел есть задуманное или NO в противном случае. После нескольких заданныъх вопросов Беатриса запуталась в том, какие вопросы она задавала и какие ответы получила и просит вас помочь ей определить, какие числа мог задумать Август.
В первой строке задано n - максимальное число, которое мог загадать Август. Далее каждая строка содержит вопрос Беатрисы (множество чисел, разделенных пробелом) и ответ Августа на этот вопрос.
Вы должны вывести через пробел, в порядке возрастания, все числа, которые мог задумать Август.
“””
true = set()
false = set()

n = int(input())
num = input().split()
answer = input()

if answer == 'YES':
    for elem in num:
        true.add(elem)
else:
    for elem in set:
        false.add(elem)
        
res = true – false
print(*sorted(res))

#---------------------------------------------------------------------------------------------------------------------------------------------

#task9--------------------------------------------------------------------------------------------------------------------------------------

“””
Каждый из некоторого множества школьников некоторой школы знает некоторое количество языков. Нужно определить сколько языков знают все школьники, и сколько языков знает хотя бы один из школьников.
В первой строке задано количество школьников. Для каждого из школьников сперва записано количество языков, которое он знает, а затем - названия языков, по одному в строке.
В первой строке выведите количество языков, которые знаю все школьники. Начиная со второй строки - список таких языков. Затем - количество языков, которые знает хотя бы один школьник, на следующих строках - список таких языков. Языки нужно выводить в лексикографическом порядке, по одному на строке.

“””

#default
set = set()
list = list()
res = []
counter = 0

#input
n = int(input())
for i in range(n):
    num = int(input())
    for j in range(num):
        lan = input()
        set.add(lan)
        list.append(lan)
        
#all know these languages
for i in set:
    for j in list:
        if i == j:
            counter += 1
            if counter == n:
                res.append(j)
                
#output
print(len(res))
print(' '.join(res))
print(len(set))
for elem in set:
    print(elem)

#---------------------------------------------------------------------------------------------------------------------------------------------

